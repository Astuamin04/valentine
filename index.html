<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Be My Valentine ðŸ’˜</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<style>
  *{ box-sizing:border-box }
  body{
    margin:0; height:100vh; overflow:hidden; display:grid; place-items:center;
    background: radial-gradient(circle at top, #ffd1dc, #ff9eb5 55%, #ff7aa2);
    font-family: system-ui, -apple-system, Segoe UI, sans-serif;
  }
  .success{
    position:relative;
    height:100vh; display:grid; place-items:center; text-align:center; padding:24px;
    background: radial-gradient(circle at top, #ffd1dc, #ff9eb5 55%, #ff7aa2);
    color:#7a0b2e; font-size:clamp(1.6rem,4vw,2.4rem);
    overflow:hidden;
  }
  .box{
    position:relative;
    z-index:2;
    background: rgba(255,255,255,.35);
    backdrop-filter: blur(12px);
    border-radius: 28px; padding: 28px 24px;
    box-shadow: 0 30px 80px rgba(255, 40, 90, .35), inset 0 1px 0 rgba(255,255,255,.6);
    animation: glow 2.5s ease-in-out infinite;
  }
  @keyframes glow{
    0%,100%{ box-shadow: 0 30px 80px rgba(255, 40, 90, .35), inset 0 1px 0 rgba(255,255,255,.6); }
    50%{ box-shadow: 0 30px 100px rgba(255, 40, 90, .55), inset 0 1px 0 rgba(255,255,255,.7); }
  }
  .actions{ display:flex; gap:10px; flex-wrap:wrap; justify-content:center; margin-top:16px }
  .btn{
    border:none; border-radius:999px; padding:10px 16px; cursor:pointer;
    background:#fff; color:#7a0b2e; box-shadow:0 10px 25px rgba(0,0,0,.2);
  }

  /* Effects layers */
  .hearts span, .petals span, .balloons span, .confetti i, canvas{
    position:absolute; pointer-events:none;
  }
  .hearts span{ font-size:18px; animation: rise 6s linear infinite }
  @keyframes rise{ to{ transform:translateY(-120vh) rotate(360deg); opacity:0 } }
  .petals span{ font-size:18px; animation: fall 6s linear infinite }
  @keyframes fall{ to{ transform:translateY(120vh) rotate(180deg); opacity:0 } }
  .balloons span{ font-size:22px; animation: balloon 8s linear infinite }
  @keyframes balloon{ to{ transform:translateY(-120vh); opacity:0 } }
  .confetti i{ width:8px; height:12px; background:#fff; animation: confetti 1.2s ease-out forwards }
  @keyframes confetti{ to{ transform:translateY(120px) rotate(180deg); opacity:0 } }
</style>
</head>
<body>

<div class="success" id="success">
  <canvas id="fireworks"></canvas>

  <div class="box">
    <div id="typed"></div>
    <small style="display:block; margin-top:8px;">Soâ€¦ coffee sometime? â˜•ðŸ˜‰</small>
    <div class="actions">
      <button class="btn" id="save">Save this moment ðŸ’—</button>
      <button class="btn" id="share">Share ðŸ’Œ</button>
      <button class="btn" id="replay">Replay ðŸ”„</button>
    </div>
  </div>

  <div class="hearts" id="hearts"></div>
  <div class="petals" id="petals"></div>
  <div class="balloons" id="balloons"></div>
  <div class="confetti" id="confetti"></div>
</div>

<script>
  // Typing effect
  const msg = "Yayyy! ðŸ’˜ You just made my day ðŸ˜";
  const typed = document.getElementById("typed");
  let i=0;
  const typer = setInterval(()=>{
    typed.textContent += msg[i++] || "";
    if(i>msg.length) clearInterval(typer);
  }, 50);

  // Floating effects
  function spawn(container, char, dur){
    const s=document.createElement("span");
    s.textContent = char;
    s.style.left = Math.random()*100+"vw";
    container.appendChild(s);
    setTimeout(()=>s.remove(), dur);
  }
  setInterval(()=>spawn(document.getElementById("hearts"), "ðŸ’—", 6000), 400);
  setInterval(()=>spawn(document.getElementById("petals"), "ðŸŒ¸", 6000), 600);
  setInterval(()=>spawn(document.getElementById("balloons"), "ðŸŽˆ", 8000), 900);

  // Confetti burst
  for(let i=0;i<50;i++){
    const c=document.createElement("i");
    c.style.left = (window.innerWidth/2 + (Math.random()*160-80))+"px";
    c.style.top  = (window.innerHeight/2)+"px";
    c.style.background = ["#fff","#ffd1dc","#ffe3ec","#fad0c4"][i%4];
    document.getElementById("confetti").appendChild(c);
    setTimeout(()=>c.remove(),1200);
  }

  // Fireworks (canvas)
  const canvas = document.getElementById("fireworks");
  const ctx = canvas.getContext("2d");
  function resize(){ canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
  window.addEventListener("resize", resize); resize();

  const fireworks = [];
  function launch(){
    fireworks.push({
      x: Math.random()*canvas.width,
      y: canvas.height,
      tx: Math.random()*canvas.width,
      ty: Math.random()*canvas.height*0.5,
      p: []
    });
  }
  setInterval(launch, 800);

  function update(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    fireworks.forEach((f, idx)=>{
      f.y -= 10;
      if(f.y < f.ty){
        for(let i=0;i<30;i++){
          f.p.push({
            x: f.x, y: f.y,
            vx: (Math.random()-0.5)*6,
            vy: (Math.random()-0.5)*6,
            life: 60,
            color: `hsl(${Math.random()*360},100%,60%)`
          });
        }
        fireworks.splice(idx,1);
      } else {
        ctx.fillStyle="#fff";
        ctx.fillRect(f.x,f.y,2,2);
      }
    });

    fireworks.forEach(()=>{});
    fireworksParticles.forEach(p=>{
      p.x+=p.vx; p.y+=p.vy; p.life--;
      ctx.fillStyle=p.color;
      ctx.fillRect(p.x,p.y,3,3);
    });
    fireworksParticles = fireworksParticles.filter(p=>p.life>0);
    requestAnimationFrame(update);
  }

  let fireworksParticles = [];
  setInterval(()=>{}, 1000);

  // Patch: collect particles
  const origLaunch = launch;
  function patchedLaunch(){ origLaunch(); }
  function explode(f){
    for(let i=0;i<30;i++){
      fireworksParticles.push({
        x: f.x, y: f.y,
        vx: (Math.random()-0.5)*6,
        vy: (Math.random()-0.5)*6,
        life: 60,
        color: `hsl(${Math.random()*360},100%,60%)`
      });
    }
  }

  // Override update with explosion
  function animate(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    fireworks.forEach((f, idx)=>{
      f.y -= 8;
      if(f.y < f.ty){
        explode(f);
        fireworks.splice(idx,1);
      } else {
        ctx.fillStyle="#fff";
        ctx.fillRect(f.x,f.y,2,2);
      }
    });
    fireworksParticles.forEach(p=>{
      p.x+=p.vx; p.y+=p.vy; p.life--;
      ctx.fillStyle=p.color;
      ctx.fillRect(p.x,p.y,3,3);
    });
    fireworksParticles = fireworksParticles.filter(p=>p.life>0);
    requestAnimationFrame(animate);
  }
  animate();

  // Actions
  document.getElementById("save").onclick = ()=> alert("Tip: Take a screenshot to save this moment ðŸ˜‰");
  document.getElementById("share").onclick = ()=> {
    const txt = encodeURIComponent("I just clicked YES on your Valentine page ðŸ’–");
    window.open("https://wa.me/?text="+txt, "_blank");
  };
  document.getElementById("replay").onclick = ()=> location.reload();
</script>
</body>
</html>
